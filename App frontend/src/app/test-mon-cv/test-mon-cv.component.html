<div class="container mt-4">
  <div class="row justify-content-center">
    <div class="col-md-8">
      <div class="card">
        <div class="card-header">
          <h2 class="text-center">Upload Your CV</h2>
        </div>
        <div class="card-body">
          <form>
            <div class="mb-3">
              <label for="cvUpload" class="form-label">Choose a PDF file:</label>
              <input 
                type="file" 
                class="form-control" 
                id="cvUpload" 
                accept="application/pdf" 
                (change)="onFileSelected($event)" 
              />
            </div>
            <div *ngIf="errorMessage" class="alert alert-danger">
              {{ errorMessage }}
            </div>
            <button 
              class="btn btn-primary" 
              (click)="uploadCV()" 
              [disabled]="!selectedFile"
            >
              Upload CV
            </button>
          </form>

          <div *ngIf="uploadProgress > 0" class="mt-3">
            <div class="progress">
              <div 
                class="progress-bar" 
                role="progressbar" 
                [style.width.%]="uploadProgress" 
                [attr.aria-valuenow]="uploadProgress" 
                aria-valuemin="0" 
                aria-valuemax="100"
              >
                {{uploadProgress}}%
              </div>
            </div>
          </div>

          <div *ngIf="pdfSrc" class="mt-4">
            <h3>Preview of Uploaded CV:</h3>
            <div class="pdf-preview">
              <ngx-extended-pdf-viewer
                [src]="pdfSrc"
                [height]="'500px'"
                [useBrowserLocale]="true"
                [showSidebarButton]="true"
                [showFindButton]="true"
                [showPagingButtons]="true"
                [showZoomButtons]="true"
                [showPresentationModeButton]="true"
                [showOpenFileButton]="false"
                [showPrintButton]="true"
                [showDownloadButton]="true"
                [showSecondaryToolbarButton]="true"
                [showRotateButton]="true"
                [showHandToolButton]="true"
                [showScrollingButton]="true"
                [showSpreadButton]="true"
                [showPropertiesButton]="true"
                [showBorders]="true"
                class="border rounded"
              ></ngx-extended-pdf-viewer>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>